<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Dashboard</title>
</head>
<body>
    <header>
        <nav>
            <h1>Loan Dashboard</h1>
            <a href="#add-loan">Apply for Loan</a>
            <a href="#view-loan">View Loan</a>
        </nav>
    </header>

    <div class="container">
        <div class="sidebar">
            <div class="user-info">
                <h3>{{ username }}</h3>
                <p>{{ role | capitalize }}</p>
                <img src="/assets/images/user.png" alt="User">
            </div>
            <ul>
                <li><a href="{{ url_for('loan_profiles') }}">My Profile</a></li>
                <li><a href="{{ url_for('logout') }}">Log Out</a></li>
            </ul>
        </div>

        <main>
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <section id="welcome">
                <h2>Welcome Dashboard</h2>
                <p>Hello, {{ username }}!</p>
            </section>

            <section id="add-loan">
                <h2>Add Loan</h2>
                <nav aria-label="breadcrumb">
                    <a href="#welcome">Dashboard</a> &gt; Add Loan
                </nav>
                <div class="card">
                    <h3>Loan Application</h3>
                    <form method="POST" action="{{ url_for('add_loan') }}" enctype="multipart/form-data">
                        <div class="form-group">
                            <label>First Name:</label>
                            <input type="text" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label>Last Name:</label>
                            <input type="text" name="lastName" required>
                        </div>
                        <div class="form-group">
                            <label>Date of Birth:</label>
                            <input type="date" name="dob" required>
                        </div>
                        <div class="form-group">
                            <label>Phone:</label>
                            <input type="tel" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label>Address:</label>
                            <input type="text" name="address" required>
                        </div>
                        <div class="form-group">
                            <label>Age:</label>
                            <input type="number" name="age" required>
                        </div>
                        <div class="form-group">
                            <label>Monthly Income:</label>
                            <input type="number" name="monthlyIncome" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label>Occupation:</label>
                            <input type="text" name="occupation" required>
                        </div>
                        <div class="form-group">
                            <label>Loan Amount:</label>
                            <input type="number" name="loanAmount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label>Loan Purpose:</label>
                            <select name="loanPurpose" required>
                                <option value="" disabled selected>Select Purpose</option>
                                <option value="Personal">Personal</option>
                                <option value="Business">Business</option>
                                <option value="Home">Home</option>
                                <option value="Education">Education</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Aadhar Number:</label>
                            <input type="text" name="aadharNumber" required>
                        </div>
                        <div class="form-group">
                            <label>Aadhar Upload:</label>
                            <input type="file" name="aadharFile" accept=".pdf" required>
                            <small>Upload Aadhar (PDF only, max 5MB)</small>
                            <p class="error">Please upload a valid PDF file.</p>
                        </div>
                        <div class="form-group">
                            <label>PAN Number:</label>
                            <input type="text" name="panNumber" required>
                        </div>
                        <div class="form-group">
                            <label>PAN Upload:</label>
                            <input type="file" name="panFile" accept=".pdf" required>
                            <small>Upload PAN (PDF only, max 5MB)</small>
                            <p class="error">Please upload a valid PDF file.</p>
                        </div>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </section>

            <section id="view-loan">
                <h2>View Loan</h2>
                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Loan ID</th>
                                <th>Amount</th>
                                <th>Purpose</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <footer>
        <p>Â© 2024 WowDash. All Rights Reserved.</p>
        <p>Made by wowtheme7</p>
    </footer>
</body>
</html>